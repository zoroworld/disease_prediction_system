services:
  frontend:
    build:
      context: .           # âœ… current folder
      dockerfile: Dockerfile
      target: ${DOCKER_TARGET:-dev}
      args:
        VITE_REACT_APP_DEV: ${VITE_REACT_APP_DEV}
    
    environment:
      - VITE_API_KEY=${VITE_API_KEY}

    ports:
      - "${CONTAINER_PORT}:${CONTAINER_PORT}"

    volumes:
      - ./src:/app/src
      - ./public:/app/public
      - ./package.json:/app/package.json
      - ./vite.config.js:/app/vite.config.js
      - /app/node_modules
